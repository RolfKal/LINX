/****************************************************************************************
**  LINX header for serial listener.
**
**  For more information see:           www.labviewmakerhub.com/linx
**  For support visit the forums at:    www.labviewmakerhub.com/forums/linx
**
**  Written By Sam Kristoff
**
** BSD2 License.
****************************************************************************************/

#ifndef LINX_SERIAL_LISTENER_H
#define LINX_SERIAL_LISTENER_H

/****************************************************************************************
**  Defines
****************************************************************************************/

/****************************************************************************************
**  Includes
****************************************************************************************/
#include "LinxDevice.h"
#include "utility/LinxListener.h"


/****************************************************************************************
**  Type Defs
****************************************************************************************/

/****************************************************************************************
**  Classes
****************************************************************************************/
class LinxSerialListener : public LinxListener
{
	public:
		/****************************************************************************************
		**  Variables
		****************************************************************************************/

		/****************************************************************************************
		**  Constructors
		****************************************************************************************/
		LinxSerialListener(LinxDevice *device, bool autoLaunch = false) : LinxListener(device, autoLaunch){};

		/****************************************************************************************
		**  Functions
		****************************************************************************************/
		int32_t Start(uint8_t uartChan, uint32_t baudRate = 9600,
			              uint8_t dataBits = 8, uint8_t stopBits = 2,
						  LinxUartParity parity = None, int32_t timeout = 2000);
		int32_t Start(const unsigned char *deviceName, uint32_t baudRate = 9600,
			              uint8_t dataBits = 8, uint8_t stopBits = 2,
						  LinxUartParity parity = None, int32_t timeout = 2000);
	protected:
		/****************************************************************************************
		**  Functions
		****************************************************************************************/

private:
		/****************************************************************************************
		**  Variables
		****************************************************************************************/

		/****************************************************************************************
		**  Functions
		****************************************************************************************/
};

extern LinxSerialListener LinxSerialConnection;

#endif //LINX_SERIAL_LISTENER_H